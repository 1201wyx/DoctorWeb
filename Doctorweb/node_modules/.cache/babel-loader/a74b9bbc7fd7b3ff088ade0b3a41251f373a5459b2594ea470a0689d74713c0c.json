{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, onMounted } from 'vue';\nimport { User, Avatar } from '@element-plus/icons-vue';\nexport default {\n  __name: 'OnlineConsultation',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const messages = ref([]);\n    const newMessage = ref('');\n    const patientInfo = ref(null);\n    onMounted(() => {\n      // 模拟获取患者信息\n      patientInfo.value = {\n        name: '小明',\n        age: 8,\n        gender: '男',\n        latestReport: {\n          date: '2023-05-01',\n          summary: '体态良好，建议继续保持正确的坐姿和运动习惯。'\n        }\n      };\n\n      // 模拟一些初始消息\n      messages.value = [{\n        sender: 'patient',\n        content: '医生您好，我想咨询一下我孩子的体态问题。'\n      }, {\n        sender: 'doctor',\n        content: '你好，我已经看到了你孩子的体态检测报告。总体来说情况不错，有什么具体问题想问的吗？'\n      }];\n    });\n    const handleSendMessage = () => {\n      if (newMessage.value.trim()) {\n        messages.value.push({\n          sender: 'doctor',\n          content: newMessage.value\n        });\n        newMessage.value = '';\n        // 这里添加发送消息到后端的逻辑\n      }\n    };\n    const __returned__ = {\n      messages,\n      newMessage,\n      patientInfo,\n      handleSendMessage,\n      ref,\n      onMounted,\n      get User() {\n        return User;\n      },\n      get Avatar() {\n        return Avatar;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","User","Avatar","messages","newMessage","patientInfo","value","name","age","gender","latestReport","date","summary","sender","content","handleSendMessage","trim","push"],"sources":["C:/Users/Lenovo/Desktop/DoctorWeb/project/src/components/OnlineConsultation.vue"],"sourcesContent":["<template>\n  <div class=\"consultation\">\n    <el-row :gutter=\"20\">\n      <el-col :span=\"6\">\n        <el-card class=\"box-card\">\n          <template #header>\n            <div class=\"card-header\">\n              <span>患者信息</span>\n            </div>\n          </template>\n          <div v-if=\"patientInfo\">\n            <p><strong>姓名：</strong>{{ patientInfo.name }}</p>\n            <p><strong>年龄：</strong>{{ patientInfo.age }}</p>\n            <p><strong>性别：</strong>{{ patientInfo.gender }}</p>\n            <el-divider />\n            <h4>最新体态检测报告</h4>\n            <p><strong>日期：</strong>{{ patientInfo.latestReport.date }}</p>\n            <p><strong>摘要：</strong>{{ patientInfo.latestReport.summary }}</p>\n          </div>\n        </el-card>\n      </el-col>\n      <el-col :span=\"18\">\n        <el-card class=\"box-card\">\n          <template #header>\n            <div class=\"card-header\">\n              <span>在线咨询</span>\n            </div>\n          </template>\n          <div class=\"chat-container\">\n            <div class=\"chat-messages\">\n              <div v-for=\"(msg, index) in messages\" :key=\"index\" :class=\"['message', msg.sender === 'doctor' ? 'message-right' : 'message-left']\">\n                <el-avatar :size=\"32\" :icon=\"msg.sender === 'doctor' ? User : Avatar\" />\n                <div class=\"message-content\">{{ msg.content }}</div>\n              </div>\n            </div>\n            <div class=\"chat-input\">\n              <el-input\n                v-model=\"newMessage\"\n                placeholder=\"输入消息...\"\n                @keyup.enter=\"handleSendMessage\"\n              >\n                <template #append>\n                  <el-button @click=\"handleSendMessage\">发送</el-button>\n                </template>\n              </el-input>\n            </div>\n          </div>\n        </el-card>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { User, Avatar } from '@element-plus/icons-vue'\n\nconst messages = ref([])\nconst newMessage = ref('')\nconst patientInfo = ref(null)\n\nonMounted(() => {\n  // 模拟获取患者信息\n  patientInfo.value = {\n    name: '小明',\n    age: 8,\n    gender: '男',\n    latestReport: {\n      date: '2023-05-01',\n      summary: '体态良好，建议继续保持正确的坐姿和运动习惯。',\n    },\n  }\n\n  // 模拟一些初始消息\n  messages.value = [\n    { sender: 'patient', content: '医生您好，我想咨询一下我孩子的体态问题。' },\n    { sender: 'doctor', content: '你好，我已经看到了你孩子的体态检测报告。总体来说情况不错，有什么具体问题想问的吗？' },\n  ]\n})\n\nconst handleSendMessage = () => {\n  if (newMessage.value.trim()) {\n    messages.value.push({ sender: 'doctor', content: newMessage.value })\n    newMessage.value = ''\n    // 这里添加发送消息到后端的逻辑\n  }\n}\n</script>\n\n<style scoped>\n.consultation {\n  height: calc(100vh - 60px);\n}\n.chat-container {\n  display: flex;\n  flex-direction: column;\n  height: calc(100vh - 180px);\n}\n.chat-messages {\n  flex-grow: 1;\n  overflow-y: auto;\n  padding: 20px;\n}\n.message {\n  display: flex;\n  margin-bottom: 10px;\n}\n.message-left {\n  justify-content: flex-start;\n}\n.message-right {\n  justify-content: flex-end;\n}\n.message-content {\n  max-width: 70%;\n  padding: 10px;\n  border-radius: 10px;\n  background-color: #f0f2f5;\n  margin: 0 10px;\n}\n.message-right .message-content {\n  background-color: #95ec69;\n}\n.chat-input {\n  padding: 20px;\n}\n</style>"],"mappings":";AAsDA,SAASA,GAAG,EAAEC,SAAS,QAAQ,KAAK;AACpC,SAASC,IAAI,EAAEC,MAAM,QAAQ,yBAAyB;;;;;;;IAEtD,MAAMC,QAAQ,GAAGJ,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMK,UAAU,GAAGL,GAAG,CAAC,EAAE,CAAC;IAC1B,MAAMM,WAAW,GAAGN,GAAG,CAAC,IAAI,CAAC;IAE7BC,SAAS,CAAC,MAAM;MACd;MACAK,WAAW,CAACC,KAAK,GAAG;QAClBC,IAAI,EAAE,IAAI;QACVC,GAAG,EAAE,CAAC;QACNC,MAAM,EAAE,GAAG;QACXC,YAAY,EAAE;UACZC,IAAI,EAAE,YAAY;UAClBC,OAAO,EAAE;QACX;MACF,CAAC;;MAED;MACAT,QAAQ,CAACG,KAAK,GAAG,CACf;QAAEO,MAAM,EAAE,SAAS;QAAEC,OAAO,EAAE;MAAuB,CAAC,EACtD;QAAED,MAAM,EAAE,QAAQ;QAAEC,OAAO,EAAE;MAA4C,CAAC,CAC3E;IACH,CAAC,CAAC;IAEF,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;MAC9B,IAAIX,UAAU,CAACE,KAAK,CAACU,IAAI,CAAC,CAAC,EAAE;QAC3Bb,QAAQ,CAACG,KAAK,CAACW,IAAI,CAAC;UAAEJ,MAAM,EAAE,QAAQ;UAAEC,OAAO,EAAEV,UAAU,CAACE;QAAM,CAAC,CAAC;QACpEF,UAAU,CAACE,KAAK,GAAG,EAAE;QACrB;MACF;IACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}